ggsave("../figures/max_power_rinne_vs_real_turbines.png")
### load real data from website
turbine_models<-"http://windni.com/turbines/turbine-database/" %>%
readHTMLTable(header=T, which=1,stringsAsFactors=F) %>%
as_tibble() %>%
filter(Availability == "Under production") %>%
mutate(`Power (kW)`=str_replace(`Power (kW)`,",","")) %>%
mutate(`Power (kW)`=as.numeric(`Power (kW)`),`Diameter (m)`=as.numeric(`Diameter (m)`)) %>%
filter(`Diameter (m)`<200) %>% mutate(power=`Power (kW)`/10^3, radius=`Diameter (m)`/2,hub_height=2*radius) %>%
mutate(age=age,max_power=rinne_derivative(radius,2*radius,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbine_models,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
download.file("http://www.newcl.org/data/zipfiles/a1.zip","temp../data/tempturbines.zip")
download.file("http://www.newcl.org/data/zipfiles/a1.zip","../data/tempturbines.zip")
download.file("https://eerscmap.usgs.gov/uswtdb/assets/data/uswtdbCSV.zip","../data/tempturbines.zip")
unzip(f)
### load real data from website
f<-"../data/tempturbines.zip"
unzip(f)
unzip(f,exdir="../data")
turbines<-read_table("uswtdb_v2_0_20190417.csv")
turbines<-read_table("../data/uswtdb_v2_0_20190417.csv")
turbines
turbines<-read_delim"../data/uswtdb_v2_0_20190417.csv",delim=",")
turbines<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",")
turbines
names(turbines)
turbines %>% select(t_cap,t_hh,t_rd)
turbines %>% select(t_cap,t_hh,t_rd) %>% na.omit()
names(turbines)
turbines %>% select(t_cap,t_hh,t_rd, p_year) %>% na.omit()
turbines %>% select(t_cap,t_hh,t_rd, p_year) %>% na.omit() %>% unique()
turbines<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap,hub_height=t_hh,radius=t_rd/2,p_year=2017-p_year)
turbines %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
turbines<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,p_year=2017-p_year)
turbines %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbine_models,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,p_year=2017-p_year) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbines_download,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
ggsave("../figures/max_power_rinne_vs_real_turbines.png")
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,p_year=2016-p_year) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbines_download,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>% ggplot(aes(x=age,y=power/(radius_rotor^2*pi)) + geom_point()
turbines_download %>% ggplot(aes(x=age,y=power/(radius_rotor^2*pi))) + geom_point()
turbines_download %>% ggplot(aes(x=age,y=power/(radius_rotor^2*pi))) + geom_point()
turbines_download$age
turbines_download
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,p_year=2016-p_year) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
turbines_download
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbines_download,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbines_download,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>% ggplot(aes(x=age,y=power/(radius_rotor^2*pi))) + geom_point()
turbines_download %>% ggplot(aes(x=age,y=power*10^6/(radius_rotor^2*pi))) + geom_point()
turbines_download
turbines_download %>% ggplot(aes(x=age,y=power*10^6/(radius^2*pi))) + geom_point()
derivatives_rinne %>%
ggplot(aes(x=radius_rotor,y=max_power)) +
geom_line() +
geom_point(data=turbines_download,
aes(x=radius,
y=power,
col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10) %>%
na.omit()
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(age=ifelse(age<0,0,age)) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10) %>%
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(age=ifelse(age<0,0,age)) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10) %>%
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10) %>%
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(age=ifelse(age<0,0,age)) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10) %>%
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year)
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique()
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year)
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(age=ifelse(age<0,0,age))
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(age=ifelse(age<0,0,age)) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age))
turbines_download<-read_delim("../data/uswtdb_v2_0_20190417.csv",delim=",") %>%
select(t_cap,t_hh,t_rd, p_year) %>%
na.omit() %>%
unique() %>%
mutate(power=t_cap/1000,hub_height=t_hh,radius=t_rd/2,age=2016-p_year) %>%
mutate(age=ifelse(age<0,0,age)) %>%
mutate(max_power=rinne_derivative(radius,hub_height,age)) %>%
mutate(unlikely_region=ifelse(power<max_power,"Turbine cheaper than maximum cost","Turbine more expensive than maximum cost")) %>%
mutate(data_rinne = 10)
### calculate derivate of Rinne for the relation hub_height=2*radius_rotor
radius_rotor<-seq(1,100,1)
max_power<-rinne_derivative(radius_rotor, 2*radius_rotor, age)
derivatives_rinne<-tibble(radius_rotor,max_power) %>%
mutate(hub_height=2*radius_rotor, age=age)
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=as.character(unlikely_region)
)) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
install.packages("gg3D")
install.packages("devtools")
devtools::install_github("AckerDWM/gg3D")
library(gg3D)
turbines_download %>%
ggplot(aes(x=radius,y=power, z=age)) +
geom_point(aes(col=as.character(unlikely_region)))
turbines_download %>%
ggplot(aes(x=radius,y=power, z=age)) +
geom_point(aes(col=as.character(unlikely_region))) +
axes_3d() +
stat_3D()
library(gg3D)
turbines_download %>%
ggplot(aes(x=radius,y=power, z=age)) +
geom_point(aes(col=as.character(unlikely_region))) +
axes_3d() +
stat_3D()
turbines_download %>%
ggplot(aes(x=radius,y=power, z=age)) +
geom_point(aes(col=as.character(unlikely_region))) +
axes_3D() +
stat_3D()
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=as.character(unlikely_region))) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
install.packages("plot3D")
library(plot3D)
x<-turbines_download$radius
y<-turbines_download$power
z<-turbines_download$age
scatter3D(x,y,z)
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=as.character(unlikely_region))) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>% ggplot(aes(x=age,y=power*10^6/(radius^2*pi))) + geom_point()
turbines_download<-turbines_download %>% mutate(power_density=power*10^6/(radius^2*pi))
turbines_download
turbines_download %>% ggplot(aes(x=age,y=power_density)) + geom_point()
cor(turbines_download$age,turbines_download$power_density)
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=age,type=as.character(unlikely_region))) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=age,shape=as.character(unlikely_region))) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(col=age,shape=as.character(unlikely_region)),size=2) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(size=age,col=as.character(unlikely_region))) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
turbines_download %>%
arrange(unlikely_region) %>%
ggplot(aes(x=radius,y=power)) +
geom_point(aes(size=age,col=as.character(unlikely_region))) +
xlab("Radius rotor (m)") +
ylab("Power (MW)")
ggsave("../figures/max_power_rinne_vs_real_turbines.png")
turbines_download<-turbines_download %>% mutate(power_density=power*10^6/(radius^2*pi))
turbines_download %>%
arrange(unlikely_region) %>%
ggplot(aes(x=age,y=power_density)) +
geom_point(aes(col=as.character(unlikely_region))) +
xlab("Age") +
ylab("Power density (W/m^2)")
ggsave("../figures/max_power_rinne_vs_real_turbines.png")
### Calculate cost curves for Rinne turbines
power<-rep(c(3, 2, 3, 3),4)
radius<-rep(c(90/2,90/2,117/2,136/2),4)
hub_height<-c(75,75,75,75,100,100,100,100,125,125,125,125,150,150,150,150)
age<-rep(c(12,12,0,0),4)
names<-paste0("Rinne",1:length(power),".png")
rinne_data<-tibble(power, radius, hub_height, age) %>%
mutate(max_power=rinne_derivative(radius, hub_height, age)) %>%
mutate(unlikely_region=ifelse(power>max_power,
"Turbine more expensive than maximum cost",
"Turbine cheaper than maximum cost")) %>%
mutate(data_rinne = 12) %>%
mutate(total_costs=rinne_total_costs(power,radius,hub_height,age))
names<-paste0("Rinne",1:length(power),".png")
mapply(plot_feasible_infeasible_curve,
rinne_data$radius,
rinne_data$hub_height,
rinne_data$age,
names,
rinne_data$power)
rinne_data
### Calculate cost curves for Rinne turbines
power<-rep(c(3, 2, 3.45, 3.45),4)
radius<-rep(c(90/2,90/2,117/2,136/2),4)
hub_height<-c(75,75,75,75,100,100,100,100,125,125,125,125,150,150,150,150)
age<-rep(c(12,12,0,0),4)
rinne_data<-tibble(power, radius, hub_height, age) %>%
mutate(max_power=rinne_derivative(radius, hub_height, age)) %>%
mutate(unlikely_region=ifelse(power>max_power,
"Turbine more expensive than maximum cost",
"Turbine cheaper than maximum cost")) %>%
mutate(data_rinne = 12) %>%
mutate(total_costs=rinne_total_costs(power,radius,hub_height,age))
rinne_data
### regression_example
x<-1:100 + runif(1,100)
x
runif(1,100)
runif(1)
?runjif
runif()
?runif
### regression_example
x<-1:100 + runif(100)
x
### regression_example
n<-24
x<-1:n + runif(100)
x<-1:n + runif(100)
z<-x + runif(100)
y<-x + runif(100)
x<-1:n + runif(n)
y<-x + runif(n)
z<-x + runif(n)
cor(x,y)
cor(x,z)
cor(y,z)
### regression_example
n<-24
sd<-10
x<-1:n + runif(n,sd)
y<-x + runif(n,sd)
z<-x + runif(n,sd)
cor(x,y)
cor(x,z)
cor(y,z)
### regression_example
n<-24
sd<-10
x<-1:n + runif(n,sd)
x<-1:n + runif(n,max=sd)
y<-x + runif(n,max=sd)
z<-x + runif(n,max=sd)
cor(x,y)
cor(x,z)
cor(y,z)
x<-1:n + runif(n,max=sd)
y<-x + runif(n,max=sd)
z<-x + runif(n,max=sd)
cor(x,y)
cor(x,z)
cor(y,z)
lm(x~y+z)
lm(x~y+z) %>% summary()
### regression_example
n<-24
x<-1:n + runif(n,max=sd)
y<-x + runif(n,max=sd)
z<-x + runif(n,max=sd)
sd<-10
cor(x,y)
cor(x,z)
cor(y,z)
lm(x~y+z) %>% summary()
### regression_example
n<-24
x<-1:n + runif(n,max=sd)
y<-x + runif(n,max=sd)
sd<-50
z<-x + runif(n,max=sd)
cor(x,y)
cor(x,z)
cor(y,z)
lm(x~y+z) %>% summary()
cor(x,y)
cor(x,z)
cor(y,z)
lm(x~y+z) %>% summary()
### regression_example
n<-24
sd<-10
x<-1:n + runif(n,max=sd)
y<-x + runif(n,max=sd)
z<-x + runif(n,max=sd)
cor(x,y)
cor(x,z)
cor(y,z)
lm(x~y+z) %>% summary()
### regression_example
n<-24
sd<-20
x<-1:n + runif(n,max=sd)
z<-x + runif(n,max=sd)
y<-x + runif(n,max=sd)
cor(x,y)
cor(x,z)
cor(y,z)
lm(x~y+z) %>% summary()
### regression_example
n<-24
sd<-30
x<-1:n + runif(n,max=sd)
cor(x,y)
cor(x,z)
cor(y,z)
y<-x + runif(n,max=sd)
lm(x~y+z) %>% summary()
z<-x + runif(n,max=sd)
